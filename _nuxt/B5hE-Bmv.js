import{r as k,o,c as n,a as e,t as y,b as _,d as K,e as U,w as W,n as T,f as b,u as V,_ as G,g as I,h as Q,i as F,F as L,j as q,k as H}from"./DkvaAolM.js";import{_ as R}from"./DB4F65No.js";const D={class:"sidebar col-12 col-4-lg pr-lg-5",style:{"margin-bottom":"1em"}},Y={class:"user-progress"},X={class:"is-horizontal-align",style:{"margin-bottom":"1em"}},Z={id:"word-collected",class:"is-center"},ee={class:"counter col-4-md col-6 text-right"},te={key:0,class:"pr-3"},se={key:1,class:"pr-3"},ae={id:"max-streak",class:"is-center"},oe={class:"counter col-4 text-right"},ne={key:0,class:"pr-3"},ie={key:1,class:"pr-3"},le={key:0,class:"is-center",style:{position:"fixed",width:"100%",height:"100%",top:"0",left:"0","z-index":"1040","background-color":"rgba(0, 0, 0, .5)"}},re={__name:"Sidebar",props:{user:{type:Object,default(){return{}}},isLoading:{type:Boolean,default:!1}},emits:["reset-game"],setup(s,{emit:p}){const t=p,m=k(!1),r=()=>{m.value=!0},f=()=>{m.value=!1},h=()=>{t("reset-game"),f()};return(z,a)=>(o(),n("div",D,[a[6]||(a[6]=e("p",null,"Macaksara merupakan website permainan kuis untuk menguji kemampuan membaca Aksara Jawa.",-1)),e("div",Y,[a[3]||(a[3]=e("h4",null,"Perkembangan Permainan",-1)),e("div",X,[e("div",Z,[e("div",ee,[s.isLoading?(o(),n("span",se,"0")):(o(),n("span",te,y(s.user.learnedWords),1))]),a[0]||(a[0]=e("div",{class:"col-8-md col-6"},"kata dibaca",-1))]),e("div",ae,[e("div",oe,[s.isLoading?(o(),n("span",ie,"0")):(o(),n("span",ne,y(s.user.maxStreak),1))]),a[1]||(a[1]=e("div",{class:"col-8"},"streak tertinggi",-1))])]),e("button",{class:"button pushable is-full-width",style:{"margin-bottom":".5em"},onClick:r},a[2]||(a[2]=[e("span",{class:"front"}," Atur Ulang Permainan ",-1)])),a[4]||(a[4]=e("p",{class:"small"},"*Data permainan tersimpan secara otomatis pada perangkat yang digunakan.",-1))]),m.value?(o(),n("div",le,[e("div",{class:"card",style:{margin:"1em",border:"2px solid var(--color-primary)","border-radius":"1.4rem","box-shadow":"none","min-width":"400px"}},[a[5]||(a[5]=e("div",{class:"text-center",style:{"font-weight":"900","border-radius":"50rem","margin-bottom":".5em"}}," Yakin atur ulang permainan? ",-1)),e("footer",{class:"row"},[e("button",{class:"button primary col-12 col-6-md",style:{"font-weight":"900","border-radius":"50rem"},onClick:f},"Batalin"),e("button",{class:"button error col-12 col-6-md",style:{"font-weight":"900","border-radius":"50rem"},onClick:h},"Atur Ulang")])])])):_("",!0)]))}},ce=["onClick"],ue={class:"quiz-card-header"},de={class:"quiz-card-header-title-and-status"},me={class:"quiz-card-header-title",style:{"margin-top":"0","margin-bottom":"0"}},ge={key:0},ve={class:"quiz-card-title-translation",style:{"margin-top":"0"}},pe={key:0},fe={class:"quiz-card-content"},he={class:"quiz-card-status"},ye={key:0},_e={key:1},ke={class:"quiz-card-progress-bar"},be={class:"play-icon"},ze={__name:"QuizCard",props:{slug:{type:String,default:""},title:{type:String,default:"Nama Kuis"},description:{type:String,default:"Terjemahan Nama Kuis"},icon:{type:String,default:""},questionTotal:{type:Number,default:0},currentLevel:{type:Number,default:0},maxLevel:{type:Number,default:0},isCompleted:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},setup(s){const p=s,t=K(()=>p.isCompleted?100:(p.currentLevel-1)/p.maxLevel*100);return(m,r)=>{const f=R,h=G,z=I;return o(),U(z,{to:"/kuis/"+s.slug,custom:""},{default:W(({navigate:a})=>[e("div",{class:T(["quiz-card",{"is-loading":s.isLoading}]),style:{padding:"1em"},onClick:a},[e("div",ue,[e("div",de,[e("h3",me,[s.isLoading?_("",!0):(o(),n("span",ge,y(s.title),1))]),e("div",ve,[s.isLoading?_("",!0):(o(),n("span",pe,y(s.description),1))])]),r[0]||(r[0]=e("div",{class:"quiz-card-icon"},null,-1))]),e("div",fe,[e("div",he,[!s.isCompleted&&!s.isLoading?(o(),n("span",ye,"Level "+y(s.currentLevel)+" / "+y(s.maxLevel),1)):_("",!0),s.isCompleted&&!s.isLoading?(o(),n("span",_e,"Selesai")):_("",!0)]),e("div",ke,[b(f,{height:8,percentage:V(t)},null,8,["percentage"]),e("div",be,[b(h,{icon:"play"})])])])],10,ce)]),_:1},8,["to"])}}},xe={class:"row"},Le={class:"col-12 col-8-lg"},qe={key:0,class:"row"},we={style:{"margin-top":"0"}},Ce={class:"row"},x="Macaksara â€” Permainan Kuis Membaca Aksara Jawa",w="https://adityarahmanda.github.io/macaksara",Pe={__name:"index",setup(s){const p=H(),t=k(void 0),m=k(!0),r=k([]),f=k({});Q({title:x,meta:[{name:"robots",content:"follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large"},{hid:"title",name:"title",content:x},{property:"og:title",content:x},{property:"og:url",content:w},{name:"twitter:title",content:x},{name:"twitter:url",content:w}],link:[{rel:"canonical",href:w}]});const h=()=>{t.value={learnedWords:0,maxStreak:0,quizProgresses:{}};for(let i=0;i<r.value.length;i++){const g=r.value[i];for(let u=0;u<g.quizzes.length;u++){const c=g.quizzes[u].slug;t.value.quizProgresses[c]={currentLevel:1,isCompleted:!1}}}localStorage.setItem("userData",JSON.stringify(t.value))},z=()=>{if(t.value=JSON.parse(localStorage.getItem("userData")),t.value){const i=Object.keys(t.value.quizProgresses);let g=0;r.value.forEach(c=>g+=c.quizzes.length);let u=!1;(t.value.learnedWords===void 0||t.value.learnedWords===null)&&(t.value.learnedWords=0,u=!0),(t.value.maxStreak===void 0||t.value.maxStreak===null)&&(t.value.maxStreak=0,u=!0),i.length===g?r.value.forEach(c=>{c.quizzes.forEach(l=>{i.indexOf(l.slug)!==-1||(t.value.quizProgresses[l.slug]={currentLevel:1,isCompleted:!1},u=!0)})}):(t.value.quizProgresses={},r.value.forEach(c=>{c.quizzes.forEach(l=>{t.value.quizProgresses[l.slug]={currentLevel:1,isCompleted:!1}})}),h()),u&&localStorage.setItem("userData",JSON.stringify(t.value))}else h()},a=()=>{for(let i=0;i<r.value.length;i++){const g=r.value[i],u=g.category,c=new Array;for(let l=0;l<g.quizzes.length;l++){const v=g.quizzes[l],d=v.slug,C=v.title,E=v.description,M=v.icon,O=v.levels.length,$=t.value.quizProgresses[d],S=$.currentLevel,P=$.isCompleted;let N=0;if(!P){const J=Object.keys(v.levels);for(const j in J)if(v.levels[j].value===S){N=v.levels[j].questions.length;break}}const A={slug:d,title:C,description:E,icon:M,maxLevel:O,currentLevel:S,questionTotal:N,isCompleted:P};c[l]=A}f.value[i]={category:u,quizDataList:c}}},B=()=>{m.value=!0,h(),a(),m.value=!1};return F(async()=>{try{const i=await fetch(p.public.router_base+"quiz-database.json");r.value=await i.json(),z(),a()}catch(i){console.error(i)}finally{m.value=!1}}),(i,g)=>{const u=re,c=ze;return o(),n("div",xe,[b(u,{user:t.value,"is-loading":m.value,onResetGame:B},null,8,["user","is-loading"]),e("main",Le,[m.value?(o(),n("div",qe,[(o(),n(L,null,q(5,l=>e("div",{key:l,class:"col-12 col-6-md",style:{"margin-bottom":"1.25em"}},[b(c,{"is-loading":""})])),64))])):_("",!0),(o(!0),n(L,null,q(f.value,(l,v)=>(o(),n("div",{key:l.id},[e("h2",we,y(l.category),1),e("div",Ce,[(o(!0),n(L,null,q(l.quizDataList,(d,C)=>(o(),n("div",{key:d.id,class:"col-12 col-6-md mb-1",style:{"margin-bottom":"1.25em"}},[b(c,{title:d.title,description:d.description,slug:d.slug,icon:d.icon,"question-total":d.questionTotal,"current-level":d.currentLevel,"max-level":d.maxLevel,"is-completed":d.isCompleted},null,8,["title","description","slug","icon","question-total","current-level","max-level","is-completed"])]))),128))])]))),128))])])}}};export{Pe as default};
