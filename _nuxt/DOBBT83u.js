import{r as y,o as n,c as i,a as e,t as p,b as _,d as j,e as M,w as K,n as O,f as h,u as A,_ as D,g as J,h as U,i as W,F as S,j as $,k as V,l as P}from"./aOkVWLit.js";import{_ as G}from"./BrR4p8-W.js";const I={class:"sidebar col-12 col-4-lg pr-lg-5",style:{"margin-bottom":"1em"}},Q={class:"user-progress"},F={class:"is-horizontal-align",style:{"margin-bottom":"1em"}},H={id:"word-collected",class:"is-center"},R={class:"counter col-4-md col-6 text-right"},E={key:0,class:"pr-3"},Y={key:1,class:"pr-3"},X={id:"max-streak",class:"is-center"},Z={class:"counter col-4 text-right"},ee={key:0,class:"pr-3"},te={key:1,class:"pr-3"},se={key:0,class:"is-center",style:{position:"fixed",width:"100%",height:"100%",top:"0",left:"0","z-index":"1040","background-color":"rgba(0, 0, 0, .5)"}},ae={__name:"Sidebar",props:{user:{type:Object,default(){return{}}},isLoading:{type:Boolean,default:!1}},emits:["reset-game"],setup(a,{emit:g}){const t=g,d=y(!1),c=()=>{d.value=!0},m=()=>{d.value=!1},v=()=>{t("reset-game"),m()};return(k,l)=>(n(),i("div",I,[l[6]||(l[6]=e("p",null,"Macaksara merupakan website permainan kuis untuk menguji kemampuan membaca Aksara Jawa.",-1)),e("div",Q,[l[3]||(l[3]=e("h4",null,"Perkembangan Permainan",-1)),e("div",F,[e("div",H,[e("div",R,[a.isLoading?(n(),i("span",Y,"0")):(n(),i("span",E,p(a.user.learnedWords),1))]),l[0]||(l[0]=e("div",{class:"col-8-md col-6"},"kata dibaca",-1))]),e("div",X,[e("div",Z,[a.isLoading?(n(),i("span",te,"0")):(n(),i("span",ee,p(a.user.maxStreak),1))]),l[1]||(l[1]=e("div",{class:"col-8"},"streak tertinggi",-1))])]),e("button",{class:"button pushable is-full-width",style:{"margin-bottom":".5em"},onClick:c},l[2]||(l[2]=[e("span",{class:"front"}," Atur Ulang Permainan ",-1)])),l[4]||(l[4]=e("p",{class:"small"},"*Data permainan tersimpan secara otomatis pada perangkat yang digunakan.",-1))]),d.value?(n(),i("div",se,[e("div",{class:"card",style:{margin:"1em",border:"2px solid var(--color-primary)","border-radius":"1.4rem","box-shadow":"none","min-width":"400px"}},[l[5]||(l[5]=e("div",{class:"text-center",style:{"font-weight":"900","border-radius":"50rem","margin-bottom":".5em"}}," Yakin atur ulang permainan? ",-1)),e("footer",{class:"row"},[e("button",{class:"button primary col-12 col-6-md",style:{"font-weight":"900","border-radius":"50rem"},onClick:m},"Batalin"),e("button",{class:"button error col-12 col-6-md",style:{"font-weight":"900","border-radius":"50rem"},onClick:v},"Atur Ulang")])])])):_("",!0)]))}},le=["onClick"],ne={class:"quiz-card-header"},oe={class:"quiz-card-header-title-and-status"},ie={class:"quiz-card-header-title",style:{"margin-top":"0","margin-bottom":"0"}},re={key:0},ue={class:"quiz-card-title-translation",style:{"margin-top":"0"}},ce={key:0},de={class:"quiz-card-icon"},me={class:"quiz-card-content"},ge={class:"quiz-card-status"},ve={key:0},fe={key:1},pe={class:"quiz-card-progress-bar"},he={class:"play-icon"},ye={__name:"QuizCard",props:{slug:{type:String,default:""},title:{type:String,default:"Nama Kuis"},titleTranslation:{type:String,default:"Terjemahan Nama Kuis"},icon:{type:String,default:""},questionTotal:{type:Number,default:0},currentLevel:{type:Number,default:0},maxLevel:{type:Number,default:0},isCompleted:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1}},setup(a){const g=a,t=j(()=>g.isCompleted?100:(g.currentLevel-1)/g.maxLevel*100);return(d,c)=>{const m=D,v=G,k=J;return n(),M(k,{to:"/kuis/"+a.slug,custom:""},{default:K(({navigate:l})=>[e("div",{class:O(["quiz-card",{"is-loading":a.isLoading}]),style:{padding:"1em"},onClick:l},[e("div",ne,[e("div",oe,[e("h3",ie,[a.isLoading?_("",!0):(n(),i("span",re,p(a.title),1))]),e("div",ue,[a.isLoading?_("",!0):(n(),i("span",ce,p(a.titleTranslation),1))])]),e("div",de,[h(m,{icon:a.icon},null,8,["icon"])])]),e("div",me,[e("div",ge,[!a.isCompleted&&!a.isLoading?(n(),i("span",ve,"Level "+p(a.currentLevel)+" / "+p(a.maxLevel),1)):_("",!0),a.isCompleted&&!a.isLoading?(n(),i("span",fe,"Terselesaikan")):_("",!0)]),e("div",pe,[h(v,{height:8,percentage:A(t)},null,8,["percentage"]),e("div",he,[h(m,{icon:"play"})])])])],10,le)]),_:1},8,["to"])}}},_e={class:"row"},ke={class:"col-12 col-8-lg"},be={key:0,class:"row"},xe={key:1,class:"row"},b="Macaksara â€” Permainan Kuis Membaca Aksara Jawa",x="https://adityarahmanda.github.io/macaksara",ze={__name:"index",setup(a){const g=V(),t=y(void 0),d=y(!0),c=y([]),m=y({});U({title:b,meta:[{name:"robots",content:"follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large"},{hid:"title",name:"title",content:b},{property:"og:title",content:b},{property:"og:url",content:x},{name:"twitter:title",content:b},{name:"twitter:url",content:x}],link:[{rel:"canonical",href:x}]});const v=()=>{t.value={learnedWords:0,maxStreak:0,quizProgresses:{}};for(let s=0;s<c.value.length;s++){const r=c.value[s].slug;t.value.quizProgresses[r]={currentLevel:1,isCompleted:!1}}localStorage.setItem("userData",JSON.stringify(t.value))},k=()=>{if(t.value=JSON.parse(localStorage.getItem("userData")),t.value){const s=Object.keys(t.value.quizProgresses);let r=!1;if((t.value.learnedWords===void 0||t.value.learnedWords===null)&&(t.value.learnedWords=0,r=!0),(t.value.maxStreak===void 0||t.value.maxStreak===null)&&(t.value.maxStreak=0,r=!0),s.length===c.value.length)for(let o=0;o<c.value.length;o++)(s[o]!==c.value[o].slug||s[o]==="undefined")&&(t.value.quizProgresses[s[o]]={currentLevel:1,isCompleted:!1},r=!0);else{t.value.quizProgresses={};for(let o=0;o<c.value.length;o++){const f=c.value[o].slug;t.value.quizProgresses[f]={currentLevel:1,isCompleted:!1}}v()}r&&localStorage.setItem("userData",JSON.stringify(t.value))}else v()},l=()=>{for(let r=0;r<c.value.length;r++){var s=c.value[r];const o=s.slug,f=s.title,u=s.titleTranslation,w=s.icon,L=t.value.quizProgresses[o].currentLevel,B=s.levels.length,z=t.value.quizProgresses[o].isCompleted;let C=0;if(!z){const T=Object.keys(s.levels);for(const q in T)if(s.levels[q].value===L){C=s.levels[q].questions.length;break}}m.value[r]={slug:o,title:f,titleTranslation:u,icon:w,currentLevel:L,maxLevel:B,questionTotal:C,isCompleted:z}}},N=()=>{d.value=!0,v(),l(),d.value=!1};return W(async()=>{try{const s=await fetch(g.public.router_base+"quizzes.json");c.value=await s.json(),k(),l()}catch(s){console.error(s)}finally{d.value=!1}}),(s,r)=>{const o=ae,f=ye;return n(),i("div",_e,[h(o,{user:t.value,"is-loading":d.value,onResetGame:N},null,8,["user","is-loading"]),e("main",ke,[r[0]||(r[0]=e("h2",{style:{"margin-top":"0"}},"Pilih Kuis",-1)),d.value?(n(),i("div",be,[(n(),i(S,null,$(5,u=>e("div",{key:u,class:"col-12 col-6-md",style:P([u%2===0?"margin-left: 0":"",{"margin-bottom":"1em"}])},[h(f,{"is-loading":""})],4)),64))])):(n(),i("div",xe,[(n(!0),i(S,null,$(m.value,(u,w)=>(n(),i("div",{key:u.id,class:"col-12 col-6-md",style:P([s.index%2===0?"margin-left: 0":"",{"margin-bottom":"1em"}])},[h(f,{title:u.title,"title-translation":u.titleTranslation,slug:u.slug,icon:u.icon,"question-total":u.questionTotal,"current-level":u.currentLevel,"max-level":u.maxLevel,"is-completed":u.isCompleted},null,8,["title","title-translation","slug","icon","question-total","current-level","max-level","is-completed"])],4))),128))]))])])}}};export{ze as default};
