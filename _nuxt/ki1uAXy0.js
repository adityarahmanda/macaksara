import{m as ie,r as a,p as se,i as oe,o as t,c as l,a as i,b as g,F as U,j as G,n as B,t as x,u as Se,q as le,e as O,_ as ue,s as xe,v as Ce,h as qe,f as z,w as ne,x as Le,k as Me,g as ze,y as Be}from"./EtJlR253.js";import{_ as Ne}from"./Dcxwyuuu.js";const Ae={class:"row"},$e={class:"col-12",style:{"margin-bottom":"2em"}},Ke={class:"col-12",style:{"margin-bottom":"0"}},Pe={key:0},De={key:1},We={__name:"Question",props:{currentSyllable:{type:Number,default:0},syllables:{type:Array,default(){return[]}},questionAnswered:{type:Boolean,default:!1},isLearningAngka:{type:Boolean,default:!1},isIgnoreSpace:{type:Boolean,default:!1},isDipthong:{type:Boolean,default:!1},isSwara:{type:Boolean,default:!1},isMurda:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!0}},setup(s){const{$convert:C}=ie(),b=s,_=a(10),N=a(768),P=a(5),h=a(null),r=a(null),w=a(null),v=a(null),c=()=>screen.width<=N.value,q=()=>{if(b.questionAnswered){h.value&&(h.value.style.transition="all .4s ease-out",h.value.style.width=h.value.firstChild.offsetWidth+1+"px"),r.value&&(r.value.style.transition="all .4s ease-out",r.value.style.width=r.value.firstChild.offsetWidth+1+"px");for(let n=0;n<b.syllables.length;n++)v.value[n].style.transition="all .4s ease-out",v.value[n].style.width=v.value[n].firstChild.offsetWidth+1+"px",w.value[n].style.transition="all .4s ease-out",w.value[n].style.width=w.value[n].firstChild.offsetWidth+1+"px"}if(!b.questionAnswered){h.value&&(h.value.style.transition="none",h.value.style.width=h.value.firstChild.offsetWidth+1+"px"),r.value&&(r.value.style.transition="none",r.value.style.width=r.value.firstChild.offsetWidth+1+"px");for(let n=0;n<b.syllables.length;n++)v.value[n].style.transition="none",v.value[n].style.width=v.value[n].firstChild.offsetWidth+1+_.value+"px",w.value[n].style.transition="none",w.value[n].style.width=v.value[n].offsetWidth+1+"px"}};return se(()=>b.questionAnswered,()=>{le(()=>{q()})}),se(()=>b.isLoading,n=>{n||le(()=>{q()})}),oe(()=>{c()&&(_.value=P.value)}),(n,p)=>(t(),l("div",null,[i("div",Ae,[i("div",$e,[s.isLearningAngka?(t(),l("div",{key:0,ref_key:"angkaPrefix",ref:h,class:"aksara-syllable answered",style:{display:"inline-block"}},p[0]||(p[0]=[i("span",null,"꧇",-1)]),512)):g("",!0),(t(!0),l(U,null,G(s.syllables,(L,m)=>(t(),l("div",{key:m,ref_for:!0,ref_key:"aksaraSyllables",ref:v,class:B(["aksara-syllable",{current:m===s.currentSyllable,answered:m<s.currentSyllable}]),style:{display:"inline-block"}},[i("span",null,x(Se(C)(L,s.isIgnoreSpace,s.isDipthong,s.isSwara,s.isMurda)),1)],2))),128)),s.isLearningAngka?(t(),l("div",{key:1,ref_key:"angkaPostfix",ref:r,class:"aksara-syllable answered",style:{display:"inline-block"}},p[1]||(p[1]=[i("span",null,"꧇",-1)]),512)):g("",!0)]),i("div",Ke,[(t(!0),l(U,null,G(s.syllables,(L,m)=>(t(),l("div",{key:m,ref_for:!0,ref_key:"latinSyllables",ref:w,class:B(["latin-syllable",{current:m===s.currentSyllable,answered:m<s.currentSyllable}]),style:{display:"inline-block"}},[s.questionAnswered||m<s.currentSyllable?(t(),l("span",Pe,x(L),1)):(t(),l("span",De,"..."))],2))),128))])])]))}},Te=["onClick"],je={__name:"MultipleChoices",props:{choices:{type:Array,default(){return["ha","na","ca","ra"]}}},setup(s){return(C,b)=>(t(),l("div",null,[(t(!0),l(U,null,G(s.choices,(_,N)=>(t(),l("button",{ref_for:!0,ref:"choices",key:N,class:"button white mx-2",style:{"font-weight":"900"},onClick:P=>C.$emit("select-choices",C.$refs.choices[N],_)},x(_),9,Te))),128))]))}},Qe={__name:"Notification",props:{visible:{type:Boolean,default:!1},icon:{type:String,default:""},variant:{type:String,default:"primary"},message:{type:String,default:"Notification Message"}},setup(s){return(C,b)=>{const _=ue;return t(),l("div",{class:B(["notification",[{visible:s.visible,invisible:!s.visible},s.variant]])},[s.icon!==""?(t(),O(_,{key:0,icon:s.icon,style:{"margin-right":".5em"}},null,8,["icon"])):g("",!0),i("b",null,x(s.message),1)],2)}}},Ye={class:"quiz-wrapper"},He={class:"container is-full-screen",style:{position:"relative",display:"flex","flex-direction":"column"}},Ie={class:"quiz-top-area-wrapper row is-center",style:{padding:"1.5em"}},Je={class:"col-2-important"},Ve=["onClick"],Oe={class:"col-8-important"},Re={class:"col-2-important"},Fe={class:"col-12 text-center"},Ee={key:0,class:"quiz-instruction px-3 px-md-0"},Ue={key:1,class:"quiz-instruction"},Ge={key:0,class:"col-12 text-center",style:{"margin-top":"2em"}},Xe={key:0},Ze={key:0},ea={key:1,class:"row is-center",style:{"flex-grow":"1","flex-direction":"column","flex-wrap":"wrap"}},aa={class:"col-12 text-center"},ta={class:"col-12 text-center",style:{"margin-bottom":"2em"}},sa={class:"thumbs-up-icon"},la={key:0,class:"col-12 text-center"},na={key:1},ia={class:"col-12 text-center"},ra={__name:"[id]",setup(s){const{$shuffleArray:C,$toSyllables:b,$toSwaraSyllables:_,$generateJavaneseSyllable:N}=ie(),P=Me(),h=xe(),r=Ce(),w=a(!0),v=a(!1),c=a(void 0),q=a(""),n=a(""),p=a(void 0),L=a(0),m=a(0),y=a({}),S=a(0),A=a([]),$=a(0),X=a([]),re=a(4),K=a({}),Z=a(0),d=a(!1),M=a(0),D=a(0),R=a(!1),j=a(!1),f=a({visible:!1,timeout:{},selected:{}}),W=a(!0),Q=a(null),ee=a(""),Y={correct:{icon:"check",variant:"success",message:"Benar"},wrong:{icon:"sad-tear",variant:"danger",message:"Salah"},streak:{icon:"fire",variant:"success",message:"Jawaban Benar! 0x Streak!"},losestreak:{icon:"sad-tear",variant:"danger",message:"Salah! Kehilangan Streak!"}},ce=["Mantap Betul!","Kerja Bagus!","Mainnya Hebat!","Mantul Dah!"],ve=["Kurang Tepat Nih, Kamu Pasti Bisa Kok!","Kurang Tepat Nih, Jangan Patah Semangat!","Kurang Tepat Nih, Yuk Bisa Yuk!"],de=["Streaknya Hilang. Coba Lagi Yuk!","Streaknya Hilang. Pantang Mundur Yuk!","Streaknya Hilang. Yuk Bisa Yuk!"],fe=["Selamat, kamu berhasil menyelesaikan kuis!","Kuisnya berhasil diselesaikan dengan apik!","Kuisnya berhasil diselesaikan, hore!"],H=n.value!==void 0?"Kuis "+n.value:"Kuis Tidak Ditemukan",F="https://adityarahmanda.github.io/macaksara/"+h.params.id;qe({title:`${H} — Macaksara`,meta:[{name:"robots",content:"noindex, follow"},{hid:"title",name:"title",content:H},{property:"og:title",content:H},{property:"og:url",content:F},{name:"twitter:title",content:H},{name:"twitter:url",content:F}],link:[{rel:"canonical",href:F}]}),oe(async()=>{q.value=h.params.id;try{const u=await(await fetch(P.public.router_base+"quiz-database.json")).json();for(let o=0;o<u.length;o++){const k=u[o];for(let T=0;T<k.quizzes.length;T++){const V=k.quizzes[T];if(V.slug==q.value){p.value=V;break}}}ge(),he()}catch(e){console.log(e),r.push("/")}finally{w.value=!1}});const ge=()=>{if(c.value=JSON.parse(localStorage.getItem("userData")),!c.value){r.push("/");return}if(c.value.learnedWords===void 0||c.value.learnedWords===null){r.push("/");return}(c.value.maxStreak===void 0||c.value.maxStreak===null)&&r.push("/")},he=()=>{if(n.value=p.value.title,L.value=c.value.quizProgresses[q.value].currentLevel,m.value=p.value.levels.length,L.value>m.value){r.push("/");return}const e=Object.keys(p.value.levels);for(const u in e)if(p.value.levels[u].value===L.value){y.value=p.value.levels[u].questions;break}C(y.value),ae()},me=e=>{let u=[e];for(let o=1;o<re.value;o++){let k;do k=N(K.value);while(u.includes(k)||e==="ha"&&k==="a"||e==="a"&&k==="ha");u=[...u,k]}return C(u)},ye=(e,u)=>{if(!d.value){if(u===A.value[$.value]){E("correct.mp3"),M.value++,M.value>D.value&&(D.value=M.value);const o=J(ce);M.value>=2?(I(Y.streak),f.value.selected.message=o+" "+M.value+"x Streak"):(I(Y.correct),f.value.selected.message=o),$.value<A.value.length-1?($.value++,te()):(d.value=!0,Z.value=(S.value+1)/y.value.length*100),e.blur();return}if(E("wrong.mp3"),M.value!==0){M.value=0,I(Y.losestreak);const o=J(de);f.value.selected.message=o}else{I(Y.wrong);const o=J(ve);f.value.selected.message=o}}},pe=()=>{if(d.value)if(S.value<y.value.length-1)S.value++,$.value=0,ae();else{E("tada.mp3"),ee.value=J(fe);const e=c.value.quizProgresses[q.value];e.isCompleted||(L.value===m.value?e.isCompleted=!0:e.currentLevel++,c.value.quizProgresses[q.value]=e,c.value.learnedWords+=y.value.length,R.value=!0),D.value>c.value.maxStreak&&(c.value.maxStreak=D.value,j.value=!0),localStorage.setItem("userData",JSON.stringify(c.value)),v.value=!0}},ae=()=>{d.value=!1;const e=y.value[S.value];e.isSwara?A.value=_(e.value):A.value=b(e.value),te()},te=()=>{const e=y.value[S.value];K.value={isLearningNglegena:e.isLearningNglegena,isLearningSwara:e.isLearningSwara,isLearningSandhangan:e.isLearningSandhangan,isLearningMurda:e.isLearningMurda,isLearningAngka:e.isLearningAngka,isLearningLampau:e.isLearningLampau,isDipthong:e.isDipthong,isSwara:e.isSwara,isMurda:e.isMurda},X.value=me(A.value[$.value])},I=e=>{f.value.selected=e,f.value.visible=!0,clearTimeout(f.value.timeout),f.value.timeout=setTimeout(()=>{f.value.visible=!1},1500)},ke=()=>{W.value=!W.value,localStorage.setItem("enableAudio",W.value)},E=e=>{W.value&&(Q.value=null,Q.value=new Audio(P.public.router_base+"sounds/"+e),Q.value.currentTime=0,Q.value.play())},J=e=>{const u=Math.floor(Math.random()*e.length);return e[u]};return(e,u)=>{const o=ue,k=ze,T=Ne,V=We,be=je,we=Qe;return t(),l("div",Ye,[i("div",He,[i("div",Ie,[i("div",Je,[z(k,{to:"/",custom:""},{default:ne(({navigate:_e})=>[i("div",{class:"text-left",style:{"font-size":"2em",cursor:"pointer"},onClick:_e},[z(o,{icon:"times"})],8,Ve)]),_:1})]),i("div",Oe,[z(T,{percentage:Z.value},null,8,["percentage"])]),i("div",Re,[i("div",{class:"text-right",style:{"font-size":"2em",cursor:"pointer"},onClick:ke},[W.value?(t(),O(o,{key:0,icon:"volume-up"})):(t(),O(o,{key:1,icon:"volume-mute"}))])])]),v.value?g("",!0):(t(),l("div",{key:0,class:B(["row is-center",w.value?"invisible":"visible"]),style:{"flex-grow":"1","flex-direction":"column","flex-wrap":"wrap"}},[i("div",Fe,[d.value?(t(),l("h4",Ee,"Satu Kata Berhasil Dibaca!")):(t(),l("h4",Ue,"Pilih Cara Baca Yang Benar"))]),z(V,{"question-answered":d.value,"current-syllable":$.value,syllables:A.value,"is-loading":w.value,"is-dipthong":K.value.isDipthong,"is-swara":K.value.isSwara,"is-murda":K.value.isMurda,"is-learning-angka":K.value.isLearningAngka,class:"col-12 text-center",style:{"margin-bottom":"0"}},null,8,["question-answered","current-syllable","syllables","is-loading","is-dipthong","is-swara","is-murda","is-learning-angka"]),d.value?g("",!0):(t(),l("div",Ge,[z(be,{choices:X.value,onSelectChoices:ye},null,8,["choices"])])),i("div",{class:B(["quiz-translation col-12 text-center",d.value?"visible":"invisible"])},[d.value&&y.value[S.value].translation?(t(),l("span",Xe,"terjemahan: "+x(y.value[S.value].translation),1)):g("",!0)],2),i("div",{class:B(["quiz-translation col-12 text-center",d.value?"visible":"invisible"])},[d.value&&y.value[S.value].description?(t(),l("span",Ze,"keterangan: "+x(y.value[S.value].description),1)):g("",!0)],2),i("div",{class:B(["quiz-next-button-area col-12 text-center",d.value?"visible":"invisible"]),style:{"margin-top":"1em"}},[d.value?(t(),l("button",{key:0,class:"button primary",style:{"font-weight":"900","border-radius":"50rem","padding-left":"4em","padding-right":"4em"},onClick:pe},"Lanjut")):g("",!0)],2)],2)),v.value?(t(),l("div",ea,[i("div",aa,[i("h3",null,x(ee.value),1)]),i("div",ta,[i("div",sa,[z(o,{icon:"thumbs-up"})])]),R.value||j.value?(t(),l("div",la,[R.value?(t(),l("h5",{key:0,style:Le(j.value?"margin-bottom: 0em":"")},x(y.value.length)+" kata baru berhasil dibaca!",5)):g("",!0),j.value?(t(),l("h5",na,x(D.value)+" streak baru didapatkan!",1)):g("",!0)])):g("",!0),i("div",ia,[z(k,{to:"/",class:"button primary",style:{"font-weight":"900","border-radius":"50rem","padding-left":"4em","padding-right":"4em"}},{default:ne(()=>u[0]||(u[0]=[Be(" Kembali ke Beranda ")])),_:1})])])):g("",!0),v.value?g("",!0):(t(),O(we,{key:2,visible:f.value.visible,icon:f.value.selected.icon,variant:f.value.selected.variant,message:f.value.selected.message},null,8,["visible","icon","variant","message"]))])])}}};export{ra as default};
